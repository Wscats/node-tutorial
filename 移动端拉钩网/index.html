<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title></title>
		<link rel="stylesheet" href="css/weui.css" />
		<link rel="stylesheet" href="css/swiper.css" />
	</head>

	<body>
		<header>拉勾网</header>
		<!-- Swiper -->
		<div class="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide"><img src="./img/1.jpg" /></div>
				<div class="swiper-slide"><img src="./img/1.jpg" /></div>
				<div class="swiper-slide">Slide 3</div>
				<div class="swiper-slide">Slide 4</div>
				<div class="swiper-slide">Slide 5</div>
				<div class="swiper-slide">Slide 6</div>
				<div class="swiper-slide">Slide 7</div>
				<div class="swiper-slide">Slide 8</div>
				<div class="swiper-slide">Slide 9</div>
				<div class="swiper-slide">Slide 10</div>
			</div>
			<!-- Add Pagination -->
			<div class="swiper-pagination"></div>
		</div>
		<div class="weui-panel weui-panel_access">
			<!--<div class="weui-panel__hd">图文组合列表</div>-->
			<div class="weui-panel__bd">
				<!--<a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
					<div class="weui-media-box__hd">
						<img class="weui-media-box__thumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAeFBMVEUAwAD///+U5ZTc9twOww7G8MYwzDCH4YcfyR9x23Hw+/DY9dhm2WZG0kbT9NP0/PTL8sux7LFe115T1VM+zz7i+OIXxhes6qxr2mvA8MCe6J6M4oz6/frr+us5zjn2/fa67rqB4IF13XWn6ad83nxa1loqyirn+eccHxx4AAAC/klEQVRo3u2W2ZKiQBBF8wpCNSCyLwri7v//4bRIFVXoTBBB+DAReV5sG6lTXDITiGEYhmEYhmEYhmEYhmEY5v9i5fsZGRx9PyGDne8f6K9cfd+mKXe1yNG/0CcqYE86AkBMBh66f20deBc7wA/1WFiTwvSEpBMA2JJOBsSLxe/4QEEaJRrASP8EVF8Q74GbmevKg0saa0B8QbwBdjRyADYxIhqxAZ++IKYtciPXLQVG+imw+oo4Bu56rjEJ4GYsvPmKOAB+xlz7L5aevqUXuePWVhvWJ4eWiwUQ67mK51qPj4dFDMlRLBZTqF3SDvmr4BwtkECu5gHWPkmDfQh02WLxXuvbvC8ku8F57GsI5e0CmUwLz1kq3kD17R1In5816rGvQ5VMk5FEtIiWislTffuDpl/k/PzscdQsv8r9qWq4LRWX6tQYtTxvI3XyrwdyQxChXioOngH3dLgOFjk0all56XRi/wDFQrGQU3Os5t0wJu1GNtNKHdPqYaGYQuRDfbfDf26AGLYSyGS3ZAK4S8XuoAlxGSdYMKwqZKM9XJMtyqXi7HX/CiAZS6d8bSVUz5J36mEMFDTlAFQzxOT1dzLRljjB6+++ejFqka+mXIe6F59mw22OuOw1F4T6lg/9VjL1rLDoI9Xzl1MSYDNHnPQnt3D1EE7PrXjye/3pVpr1Z45hMUdcACc5NVQI0bOdS1WA0wuz73e7/5TNqBPhQXPEFGJNV2zNqWI7QKBd2Gn6AiBko02zuAOXeWIXjV0jNqdKegaE/kJQ6Bfs4aju04lMLkA2T5wBSYPKDGF3RKhFYEa6A1L1LG2yacmsaZ6YPOSAMKNsO+N5dNTfkc5Aqe26uxHpx7ZirvgCwJpWq/lmX1hA7LyabQ34tt5RiJKXSwQ+0KU0V5xg+hZrd4Bn1n4EID+WkQdgLfRNtvil9SPfwy+WQ7PFBWQz6dGWZBLkeJFXZGCfLUjCgGgqXo5TuSu3cugdcTv/HjqnBTEMwzAMwzAMwzAMwzAMw/zf/AFbXiOA6frlMAAAAABJRU5ErkJggg==" alt="">
					</div>
					<div class="weui-media-box__bd">
						<h4 class="weui-media-box__title">标题一</h4>
						<p class="weui-media-box__desc">由各种物质组成的巨型球状天体，叫做星球。星球有一定的形状，有自己的运行轨道。</p>
					</div>
				</a>-->
			</div>
			<div class="weui-panel__ft" style="margin-bottom: 53px;">
				<a href="javascript:void(0);" onclick="loadMore()" class="weui-cell weui-cell_access weui-cell_link">
					<div class="weui-cell__bd">查看更多</div>
					<span class="weui-cell__ft"></span>
				</a>
			</div>
			<div class="page__bd">
				<div class="weui-loadmore">
					<i class="weui-loading"></i>
					<span class="weui-loadmore__tips">正在加载</span>
				</div>
				<div class="weui-loadmore weui-loadmore_line">
					<span class="weui-loadmore__tips">暂无数据</span>
				</div>
				<div class="weui-loadmore weui-loadmore_line weui-loadmore_dot">
					<span class="weui-loadmore__tips"></span>
				</div>
			</div>
		</div>
		<div id="loadingToast">
			<div class="weui-mask_transparent weui-mask"></div>
			<div class="weui-toast">
				<i class="weui-loading weui-icon_toast"></i>
				<p class="weui-toast__content">数据加载中</p>
			</div>
		</div>
		<div class="weui-tabbar" style="position: fixed;">
			<a href="javascript:;" class="weui-tabbar__item weui-bar__item_on">
				<span style="display: inline-block;position: relative;">
                        <img src="./images/icon_tabbar.png" alt="" class="weui-tabbar__icon">
                        <span class="weui-badge" style="position: absolute;top: -2px;right: -13px;">8</span>
				</span>
				<p class="weui-tabbar__label">微信</p>
			</a>
			<a href="javascript:;" class="weui-tabbar__item">
				<img src="./images/icon_tabbar.png" alt="" class="weui-tabbar__icon">
				<p class="weui-tabbar__label">通讯录</p>
			</a>
			<a href="javascript:;" class="weui-tabbar__item">
				<span style="display: inline-block;position: relative;">
                        <img src="./images/icon_tabbar.png" alt="" class="weui-tabbar__icon">
                        <span class="weui-badge weui-badge_dot" style="position: absolute;top: 0;right: -6px;"></span>
				</span>
				<p class="weui-tabbar__label">发现</p>
			</a>
			<a href="javascript:;" class="weui-tabbar__item">
				<img src="./images/icon_tabbar.png" alt="" class="weui-tabbar__icon">
				<p class="weui-tabbar__label">我</p>
			</a>
		</div>
	</body>
	<style>
		* {
			margin: 0;
			padding: 0;
		}
		
		header {
			height: 45px;
			line-height: 45px;
			background-color: #00b38a;
			color: #fff;
			font-size: 16px;
			text-align: center;
			position: relative;
		}
		
		.swiper-container {
			width: 100%;
			height: 100%;
		}
		
		.swiper-slide {
			text-align: center;
			font-size: 18px;
			background: #fff;
			/* Center slide text vertically */
			display: -webkit-box;
			display: -ms-flexbox;
			display: -webkit-flex;
			display: flex;
			-webkit-box-pack: center;
			-ms-flex-pack: center;
			-webkit-justify-content: center;
			justify-content: center;
			-webkit-box-align: center;
			-ms-flex-align: center;
			-webkit-align-items: center;
			align-items: center;
		}
		
		.swiper-slide img {
			width: 100%;
		}
	</style>
	<script src="js/jquery-3.1.1.min.js"></script>
	<script src="js/swiper.jquery.js"></script>
	<script>
		var swiper = new Swiper('.swiper-container', {
			pagination: '.swiper-pagination',
			paginationClickable: true
		});
		var page = 1;

		function loadMore() {
			$(".weui-panel__ft").hide();
			$(".page__bd").show();
			$("#loadingToast").show();
			$.ajax({
				type: "get",
				url: "http://localhost:8081/jobs",
				async: true,
				dataType: "json",
				data: {
					page: page++
				},
				success: function(data) {
					console.log(data)
					var html = data.jobs.map(function(item) {
						return `
					<a name="item-${item.id}" href="detail.html?id=${item.id}" class="weui-media-box weui-media-box_appmsg">
					<div class="weui-media-box__hd">
						<img class="weui-media-box__thumb" src="${item.company_img}" alt="">
					</div>
					<div class="weui-media-box__bd">
						<h4 class="weui-media-box__title">${item.company}</h4>
						<p class="weui-media-box__desc">${item.description}</p>
					</div>
					</a>
					`
					}).join(" ")
					$(".weui-panel__ft").show();
					$(".page__bd").hide();
					$("#loadingToast").hide();
					$(".weui-panel__bd").append(html);
				}
			});
		}
		loadMore()
	</script>

</html>